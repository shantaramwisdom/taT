[dag_default_args]
dag_default_args = {
    'owner': 'airflow',
    'depends_on_past': False,
    'start_date': datetime.now() - timedelta(days=1),
    'email': 'TATechDataEngineering-dwdev@transamerica.com',
    'email_sweep_job_prod': 'TATechDataEngineering-DWOps@transamerica.com',
    'email_on_failure': False,
    'email_on_retry': False,
    'depends_on_past': False,
    'retries': 1,
    'retry_delay': timedelta(minutes=2)
}

[dag_config]
dag_name = ta-individual-findw-{project_environment_name}-{project_name}
aws_default_region = us-east-1
schedule_interval = None
tags = ['{project_name}', source_system, 'finance', batch_frequency]

[findw_config]
domain_dict = {
    'baseline':
        {'findw':
            {'fund': ['ALM'],
             'activity': ['BaNCS', 'Bestow', 'VantageP5', 'VantageP6', 'VantageP75', 'ltcg', 'ltcghybrid'],
             'contract': ['BaNCS', 'Bestow', 'VantageP5', 'VantageP6', 'VantageP75', 'ltcg', 'ltcghybrid'],
             'contractoption': ['BaNCS', 'VantageP5', 'VantageP6', 'VantageP75', 'ltcg', 'ltcghybrid'],
             'contractoptionfund': ['BaNCS', 'VantageP5', 'VantageP6', 'VantageP75', 'VantageP6S5PL', 'ltcg', 'ltcghybrid'],
             'party': ['BaNCS', 'Bestow', 'VantageP5', 'VantageP6', 'VantageP75', 'ltcg', 'ltcghybrid'],
             'contractpayout': ['BaNCS', 'Bestow', 'VantageP5', 'VantageP6', 'VantageP75', 'ltcg', 'ltcghybrid'],
             'partycontractrelationship': ['Bestow', 'ltcg', 'ltcghybrid'],
             'aahjournalentrydetaildomain': ['aah'], 'claim': ['ltcg', 'ltcghybrid'],
             'claimbenefit': ['ltcg', 'ltcghybrid'],
             'partyclaimrelationship': ['ltcg', 'ltcghybrid'],
             'contractoptionbenefit': ['ltcg', 'ltcghybrid']},
         'erpdw':
            {'general_ledger_header': ['geac', 'ahdfuturefirst', 'mlcisifrs17', 'cyberlife0001etbifrs17', 'cyberlife9701ifrs17', 'p3dss5', 'p3dss', 'p7dss', 'tagetik', 'genesysisifrs17', 'lifecomifrs17', 'lifeprofifrs17', 'fsps', 'horizonifrs17', 'tpaclaims', 'tpadifrs17', 'tpasia', 'yardi', 'murex', 'investranet', 'clearwater', 'ERPDW-VantageP65', 'ERPDW-VantageP6', 'ERPDW-VantageP75', 'ERPDW-ltcg'],
             'general_ledger_line_item': ['geac', 'ahdfuturefirst', 'mlcisifrs17', 'cyberlife0001etbifrs17', 'cyberlife9701ifrs17', 'p3dss5', 'p3dss', 'p7dss', 'tagetik', 'genesysisifrs17', 'lifecomifrs17', 'lifeprofifrs17', 'fsps', 'horizonifrs17', 'tpaclaims', 'tpadifrs17', 'tpasia', 'yardi', 'murex', 'investranet', 'oraclegl', 'ERPDW-Bestow', 'performanceplus', 'jewirebot', 'icosexaminerdocdir', 'mantisifrs17', 'processoroneplano'],
             'ERPDW-ltcghybrid': ['ERPDW-Bestow', 'performanceplus', 'jewirebot', 'arr', 'icosexaminerceded'],
             'accounts_payable_header': ['geacap'],
             'accounts_payable_line_item': ['geacap'],
             'accounts_payable_vendor': ['geacap', 'oracleap'],
             'generallegdertrialbalance': ['oraclegl'],
             'generalledgerjournaldetail': ['oraclefah', 'ERPDW_vendor'],
             'subledgerjournallinedetail': ['oracleap'],
             'paymentdetail': ['oracleap'],
             'accountspayableescheatmentinvoice': ['oracleap_escheatment_mtly', 'oracleap_escheatment_dly'],
             'accountspayableescheatmentcheck': ['upcs', 'tlp', 'oracleap_escheatment_mtly', 'oracleap_escheatment_dly'],
             'oracleworkerconcur': ['sailpoint'],
             'oracleworkerdetails': ['sailpoint'],
             'accounts_payable_vendor_master': ['ERPDW_vendor'],
             'edmsheirarchy': ['oracleedmcs'],
             'contractplancodeedetails': ['arr_contract', 'ahd'],
             'contractorinsurancetypecompdassignment': ['arr_contract', 'ahd'],
             'general_ledger_header_contractnumberlevelreserves': ['arr'],
             'general_ledger_line_item_contractnumberlevelreserves': ['arr'],
             'currency_rates': ['mkdb']}},
    'derived':
        {'findw':
            {'financecontract': ['BaNCS', 'Bestow', 'VantageP5', 'VantageP6', 'VantageP65', 'VantageP75', 'ltcg', 'ltcghybrid'],
             'financeactivity': ['BaNCS', 'VantageP5', 'VantageP6', 'VantageP75', 'ltcg', 'ltcghybrid'],
             'financecontractparty': ['BaNCS', 'VantageP5', 'VantageP6', 'VantageP75'],
             'financetransactionalaccountingview': ['aah']},
         'erpdw':
            {'financetransactionalaccountingview': ['oraclefah']}}
}

sp_dict = {
    'baseline': {
        'batchtrackingforcecompletelegacy': 'financedworchestration.sp_batch_tracking_forcecomplete_legacy()',
        'controllogginglegacy': 'financedwcontrols.sp_load_controllogging_legacy(\'{source_system}\', \'{domain}\', \'{hop_name}\')',
        'controlresultslegacy': 'financedwcontrols.sp_oc_findw_controlresults_legacy(\'{source_system}\', \'{domain}\', \'{hop_name}\')',
        'currentbatchlegacy': 'financedworchestration.sp_load_current_batch_legacy(\'{source_system}\', \'{domain}\', \'{batch_frequency}\')',
        'findw_append': 'financedworchestration.sp_financedw_append(\'{source_system}\', \'{domain}\')',
        'ltcg_ltcghybrid_staging_derived': 'financedworchestration.sp_staging_financecontract(\'{source_system}\', \'{domain}\')',
        'staging': 'financedworchestration.sp_staging_derived(\'{source_system}\', \'{domain}\')',
        'staging_derived': 'financedworchestration.sp_staging_derived_domain(\'{source_system}\', \'{domain}\')',
        'transpose': 'financedworchestration.sp_gdqtranspose(\'{source_system}\', \'{domain}\')',
        'working': 'financedworchestration.sp_working(\'{source_system}\', \'{domain}\')',
        'working_append': 'financedworchestration.sp_working_append(\'{source_system}\', \'{domain}\')'
    }
}

shared_emr = {
    'erpdw': {'source_systems': ['geac', 'ahdfuturefirst', 'mlcisifrs17', 'cyberlife0001etbifrs17', 'cyberlife9701ifrs17', 'p3dss5', 'p3dss', 'p7dss', 'tagetik', 'genesysisifrs17', 'lifecomifrs17', 'lifeprofifrs17', 'fsps', 'horizonifrs17', 'tpaclaims', 'tpadifrs17', 'tpasia', 'yardi', 'murex', 'investranet', 'oraclegl', 'oraclefah', 'oracleap', 'oracleap_escheatment_mtly', 'oracleap_escheatment_dly', 'upcs', 'tlp', 'geacap', 'mkdb', 'clearwater', 'performanceplus', 'oracleedmcs', 'jewirebot', 'icosexaminerceded', 'arr', 'arr_contract']},
    'findw': {'source_systems': ['ltcg', 'ltcghybrid']}
}

[ec2_params]
instance_name = ta-individual-compute-findw-${env:env_name}

[redshift_params]
redshift_params = {
    "region": "us-east-1",
    "secret": "${env:prefix}-common"
}

[ssm_params]
ssm_params = {
    "s3_logs_bucket": "${env:prefix}-logs",
    "s3_logs_prefix": "linuxEC2/logs/ssm/run"
}